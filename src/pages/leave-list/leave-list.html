<ion-header>

  <ion-navbar>
    <ion-title *ngIf="!toggled">Leave Requests ({{LeavesCount}}) </ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="toggle()">
        <ion-icon  name="search"></ion-icon>
      </button>
      <button ion-button icon-only (click)="addLeave()">
        <ion-icon name="add"></ion-icon>
      </button>
    </ion-buttons>
    <ion-searchbar *ngIf="toggled" showCancelButton placeholder="Filter By Day, Month or Year" [(ngModel)]="queryText" (ionInput)="filterItems()"></ion-searchbar>
  </ion-navbar>

</ion-header>

<ion-content>
  <ion-list *ngFor="let item of Leaves_Arr">
    <ion-item-group id="pItem">
      <ion-item-divider color="primary" id="divison">{{item.divisionType}}</ion-item-divider>
      <ion-item-sliding *ngFor="let item of item.divisionTypes">
        <button ion-item (click)="EditLeaves(item)">
        <ion-avatar item-start>
          <img *ngIf="item.ApprovalStatus== 1 || item.ApprovalStatus==2|| item.ApprovalStatus==6 || item.ApprovalStatus==9" src="{{item.ApprovalStatus|imagePipe}}"
            style="border-radius:15%;" class="smallImg">
          <img *ngIf="item.ApprovalStatus == 3 || item.ApprovalStatus == 4 || item.ApprovalStatus == 5 || item.ApprovalStatus == 7 || item.ApprovalStatus == 8"
            src="assets/img/blue.png" style="border-radius:15%;" class="smallImg">
        </ion-avatar>
        <!-- <h2>{{item.Type}}</h2> -->
        <h5>{{item.StartDate}} - {{item.ReturnDate}} </h5>
        <ion-note item-end *ngIf="item.NofDays==1">{{item.NofDays}} day </ion-note>
        <ion-note item-end *ngIf="item.NofDays > 1">{{item.NofDays}} days </ion-note>
        <p [ngClass]="{grey:item.ApprovalStatus==1,yellow:item.ApprovalStatus==2,green:item.ApprovalStatus==6,red:item.ApprovalStatus==9,blue:true}">{{item.ApprovalStatus|approvalPipe}}</p>
      <!-- </ion-item> -->
      </button>
        <ion-item-options *ngIf="item.ApprovalStatus==1">
          <button ion-button color="danger" class="TrashLeave" (click)="DeleteLeave(item)">
          <ion-icon name="trash"></ion-icon>
          Delete
        </button>
        </ion-item-options>
      </ion-item-sliding>
    </ion-item-group>
  </ion-list>
</ion-content>